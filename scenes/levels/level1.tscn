[gd_scene load_steps=10 format=4 uid="uid://dyi4yred14us4"]

[ext_resource type="Texture2D" uid="uid://c0m7uox3oq3y6" path="res://assets/tilesets/battle_map_tileset/tileset_battle_1.png" id="1_x6ivy"]
[ext_resource type="PackedScene" uid="uid://cp6enqfwfeyu7" path="res://scenes/enemy/enemy.tscn" id="2_4tcl0"]
[ext_resource type="Resource" uid="uid://bih3etdk8k7o" path="res://resources/enemies/broken_mirror.tres" id="3_bfxgj"]
[ext_resource type="PackedScene" uid="uid://byvrh5g6p20lk" path="res://scenes/player/player.tscn" id="3_dd0lh"]

[sub_resource type="NavigationPolygon" id="NavigationPolygon_bfxgj"]
vertices = PackedVector2Array(139, 124, 152, 129, 14, 129, 99, 124, 152, 0, 139, 76, 123, 76, 123, 60, 139, 60, 139, 12, 14, 0, 99, 12, 99, 44, 83, 44, 83, 92, 75, 92, 75, 44, 59, 44, 59, 12, 19, 60, 35, 60, 35, 76, 19, 76, 59, 124, 59, 92, 99, 92, 19, 12, 19, 124)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2), PackedInt32Array(3, 0, 2), PackedInt32Array(4, 1, 0), PackedInt32Array(4, 0, 5), PackedInt32Array(5, 6, 7), PackedInt32Array(5, 7, 8), PackedInt32Array(4, 5, 8), PackedInt32Array(4, 8, 9), PackedInt32Array(10, 4, 9), PackedInt32Array(10, 9, 11), PackedInt32Array(11, 12, 13), PackedInt32Array(13, 14, 15), PackedInt32Array(13, 15, 16), PackedInt32Array(16, 17, 18), PackedInt32Array(19, 20, 21), PackedInt32Array(19, 21, 22), PackedInt32Array(23, 24, 15), PackedInt32Array(14, 25, 3), PackedInt32Array(11, 13, 16), PackedInt32Array(11, 16, 18), PackedInt32Array(10, 11, 18), PackedInt32Array(10, 18, 26), PackedInt32Array(2, 10, 26), PackedInt32Array(2, 26, 19), PackedInt32Array(2, 19, 22), PackedInt32Array(2, 22, 27), PackedInt32Array(23, 15, 14), PackedInt32Array(23, 14, 3), PackedInt32Array(23, 3, 2), PackedInt32Array(2, 27, 23)])
outlines = Array[PackedVector2Array]([PackedVector2Array(-15, -38, 184, -39, 184, 160, -21, 161)])
sample_partition_type = 1
source_geometry_mode = 1
source_geometry_group_name = &"navigation"
agent_radius = 12.0

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_4tcl0"]
texture = ExtResource("1_x6ivy")
texture_region_size = Vector2i(12, 12)
2:2/0 = 0
1:2/0 = 0
1:2/0/physics_layer_0/polygon_0/points = PackedVector2Array(-6, -6, -3, -6, -3, 6, -6, 6)
3:2/0 = 0
3:2/0/physics_layer_0/polygon_0/points = PackedVector2Array(6, -6, 3, -6, 3, 6, 6, 6)
3:0/size_in_atlas = Vector2i(1, 2)
3:0/0 = 0
3:0/0/texture_origin = Vector2i(0, -6)
3:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-6, -12, 6, -12, 6, 6, -6, 6)
2:0/size_in_atlas = Vector2i(1, 2)
2:0/0 = 0
2:0/0/texture_origin = Vector2i(0, -6)
2:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-6, 5, 6, 5, 6, -12, -6, -12)
1:0/size_in_atlas = Vector2i(1, 2)
1:0/0 = 0
1:0/0/texture_origin = Vector2i(0, -6)
1:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-6, -12, 6, -12, 6, 6, -6, 6)
1:3/0 = 0
1:3/0/physics_layer_0/polygon_0/points = PackedVector2Array(-6, -6, 6, -6, 6, 6, -6, 6)
1:4/0 = 0
1:4/0/physics_layer_0/polygon_0/points = PackedVector2Array(-6, -6, 6, -6, 6, 6, -6, 6)
1:5/0 = 0
1:5/0/physics_layer_0/polygon_0/points = PackedVector2Array(-6, -6, 6, -6, 6, 6, -6, 6)
1:6/size_in_atlas = Vector2i(1, 2)
1:6/0 = 0
1:6/0/texture_origin = Vector2i(0, -6)
1:6/0/physics_layer_0/polygon_0/points = PackedVector2Array(-6, 3, 6, 3, 6, -12, -6, -12)
0:6/size_in_atlas = Vector2i(1, 2)
0:6/0 = 0
0:6/0/texture_origin = Vector2i(0, -6)
0:6/0/physics_layer_0/polygon_0/points = PackedVector2Array(-6, 3, 6, 3, 6, -12, -6, -12)
2:7/0 = 0
2:7/0/physics_layer_0/polygon_0/points = PackedVector2Array(-6, -6, 6, -6, 6, 6, -6, 6)
3:7/0 = 0
3:7/0/physics_layer_0/polygon_0/points = PackedVector2Array(-6, -6, 6, -6, 6, 6, -6, 6)
3:6/0 = 0
3:6/0/physics_layer_0/polygon_0/points = PackedVector2Array(3, -6, 6, -6, 6, 6, -6, 6, -6, 3, 3, 3)
2:6/0 = 0
2:6/0/physics_layer_0/polygon_0/points = PackedVector2Array(6, 6, -6, 6, -6, 3, 6, 3)
2:5/0 = 0
2:4/0 = 0
2:3/0 = 0
3:3/size_in_atlas = Vector2i(1, 2)
3:3/0 = 0
3:3/0/texture_origin = Vector2i(0, -6)
3:3/0/physics_layer_0/polygon_0/points = PackedVector2Array(6, -12, 3, -12, 3, 12, 6, 12)
4:3/size_in_atlas = Vector2i(1, 2)
4:3/0 = 0
4:3/0/texture_origin = Vector2i(0, -6)
4:3/0/physics_layer_0/polygon_0/points = PackedVector2Array(-6, -12, 6, -12, 6, 6, -6, 6)
5:3/size_in_atlas = Vector2i(1, 2)
5:3/0 = 0
5:3/0/texture_origin = Vector2i(0, -6)
5:3/0/physics_layer_0/polygon_0/points = PackedVector2Array(-6, -12, 6, -12, 6, 6, -6, 6)
6:3/size_in_atlas = Vector2i(1, 2)
6:3/0 = 0
6:3/0/texture_origin = Vector2i(0, -6)
6:3/0/physics_layer_0/polygon_0/points = PackedVector2Array(-6, -12, 6, -12, 6, 6, -6, 6)
7:3/size_in_atlas = Vector2i(1, 2)
7:3/0 = 0
7:3/0/texture_origin = Vector2i(0, -6)
7:3/0/physics_layer_0/polygon_0/points = PackedVector2Array(-6, -12, 6, -12, 6, 6, -6, 6)
8:1/size_in_atlas = Vector2i(1, 2)
8:1/0 = 0
8:1/0/texture_origin = Vector2i(0, -6)
8:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-6, -12, 6, -12, 6, 6, -6, 6)
9:1/size_in_atlas = Vector2i(1, 2)
9:1/0 = 0
9:1/0/texture_origin = Vector2i(0, -6)
9:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-6, -12, 6, -12, 6, 6, -6, 6)
8:3/size_in_atlas = Vector2i(1, 2)
8:3/0 = 0
8:3/0/texture_origin = Vector2i(0, -6)
8:3/0/physics_layer_0/polygon_0/points = PackedVector2Array(-6, -12, -3, -12, -3, 12, -6, 12)
9:3/0 = 0
9:3/0/physics_layer_0/polygon_0/points = PackedVector2Array(6, -6, 3, -6, 3, 6, 6, 6)
9:4/0 = 0
9:4/0/physics_layer_0/polygon_0/points = PackedVector2Array(-6, -6, 6, -6, 6, 6, -6, 6)
9:5/0 = 0
9:5/0/physics_layer_0/polygon_0/points = PackedVector2Array(-6, -6, 6, -6, 6, 6, -6, 6)
9:6/0 = 0
9:6/0/physics_layer_0/polygon_0/points = PackedVector2Array(-6, -6, 6, -6, 6, 6, -6, 6)
9:7/0 = 0
9:7/0/physics_layer_0/polygon_0/points = PackedVector2Array(6, -6, 3, -6, 3, 3, -6, 3, -6, 6, 6, 6)
9:8/0 = 0
9:8/0/physics_layer_0/polygon_0/points = PackedVector2Array(-6, -6, 6, -6, 6, 6, -6, 6)
8:8/0 = 0
8:8/0/physics_layer_0/polygon_0/points = PackedVector2Array(-6, -6, 6, -6, 6, 6, -6, 6)
8:7/0 = 0
8:7/0/physics_layer_0/polygon_0/points = PackedVector2Array(-6, -6, -3, -6, -3, 3, 6, 3, 6, 6, -6, 6)
8:6/0 = 0
8:6/0/physics_layer_0/polygon_0/points = PackedVector2Array(-6, -6, -3, -6, -3, 6, -6, 6)
7:6/0 = 0
7:6/0/physics_layer_0/polygon_0/points = PackedVector2Array(-6, -6, 6, -6, 6, 6, -6, 6)
6:6/0 = 0
6:6/0/physics_layer_0/polygon_0/points = PackedVector2Array(-6, -6, 6, -6, 6, 6, -6, 6)
5:6/0 = 0
5:6/0/physics_layer_0/polygon_0/points = PackedVector2Array(-6, -6, 6, -6, 6, 6, -6, 6)
4:6/0 = 0
4:6/0/physics_layer_0/polygon_0/points = PackedVector2Array(-6, -6, 6, -6, 6, 6, -6, 6)
3:5/0 = 0
3:5/0/physics_layer_0/polygon_0/points = PackedVector2Array(6, 6, 3, 6, 3, 3, 6, 3)
4:5/0 = 0
4:5/0/physics_layer_0/polygon_0/points = PackedVector2Array(-6, 6, 6, 6, 6, 3, -6, 3)
5:5/0 = 0
5:5/0/physics_layer_0/polygon_0/points = PackedVector2Array(-6, 6, 6, 6, 6, 3, -6, 3)
6:5/0 = 0
6:5/0/physics_layer_0/polygon_0/points = PackedVector2Array(-6, 6, 6, 6, 6, 3, -6, 3)
7:5/0 = 0
7:5/0/physics_layer_0/polygon_0/points = PackedVector2Array(-6, 6, 6, 6, 6, 3, -6, 3)
8:5/0 = 0
8:5/0/physics_layer_0/polygon_0/points = PackedVector2Array(-6, 6, -3, 6, -3, 3, -6, 3)

[sub_resource type="TileSet" id="TileSet_dd0lh"]
tile_size = Vector2i(12, 12)
physics_layer_0/collision_layer = 1
sources/0 = SubResource("TileSetAtlasSource_4tcl0")

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_x6ivy"]
texture = ExtResource("1_x6ivy")
texture_region_size = Vector2i(12, 12)
7:0/size_in_atlas = Vector2i(1, 3)
7:0/0 = 0
7:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-5, -13.5, 5, -13.5, 5, 8, -5, 8)
10:0/size_in_atlas = Vector2i(1, 2)
10:0/0 = 0
10:0/0/texture_origin = Vector2i(2, -6)
11:0/size_in_atlas = Vector2i(1, 2)
11:0/0 = 0
11:0/0/texture_origin = Vector2i(-2, -6)
10:5/size_in_atlas = Vector2i(2, 2)
10:5/0 = 0
5:2/0 = 0
6:1/size_in_atlas = Vector2i(1, 2)
6:1/0 = 0
6:1/0/texture_origin = Vector2i(0, 4)
6:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -16, 8, -16, 8, 8, -8, 8)
5:0/0 = 0
4:0/0 = 0
4:1/0 = 0
4:2/0 = 0
10:2/0 = 0
11:2/0 = 0
12:2/0 = 0
12:3/0 = 0
12:4/0 = 0
11:4/0 = 0
10:4/0 = 0
10:3/0 = 0
11:3/0 = 0

[sub_resource type="TileSet" id="TileSet_4tcl0"]
physics_layer_0/collision_layer = 1
sources/0 = SubResource("TileSetAtlasSource_x6ivy")

[node name="Level1" type="Node2D"]

[node name="NavigationRegion2D" type="NavigationRegion2D" parent="."]
position = Vector2(1, 0)
navigation_polygon = SubResource("NavigationPolygon_bfxgj")

[node name="CombatTilemapLayer" type="TileMapLayer" parent="." groups=["navigation"]]
tile_map_data = PackedByteArray("AAAAAAAAAAABAAIAAAABAAAAAAACAAQAAAAAAAEAAAABAAIAAAAAAAIAAAABAAIAAAAAAAMAAAABAAIAAAAAAAQAAAABAAIAAAAAAAUAAAABAAIAAAAAAAYAAAABAAIAAAAAAAcAAAABAAIAAAAAAAgAAAABAAIAAAAAAAkAAAABAAIAAAAAAAoAAAABAAIAAAAAAAsAAAAIAAcAAAABAAEAAAACAAQAAAABAAIAAAACAAQAAAABAAMAAAACAAQAAAABAAQAAAACAAQAAAABAAUAAAACAAQAAAABAAYAAAACAAQAAAABAAcAAAACAAQAAAABAAgAAAACAAQAAAABAAkAAAACAAQAAAABAAoAAAACAAQAAAABAAsAAAAFAAUAAAACAAAAAAACAAQAAAACAAEAAAACAAQAAAACAAIAAAACAAQAAAACAAMAAAACAAQAAAACAAQAAAACAAQAAAACAAUAAAACAAQAAAACAAYAAAACAAQAAAACAAcAAAACAAQAAAACAAgAAAACAAQAAAACAAkAAAACAAQAAAACAAoAAAACAAQAAAACAAsAAAAFAAUAAAADAAAAAAACAAQAAAADAAEAAAACAAQAAAADAAIAAAACAAQAAAADAAMAAAACAAQAAAADAAQAAAACAAQAAAADAAUAAAACAAQAAAADAAYAAAACAAQAAAADAAcAAAACAAQAAAADAAgAAAACAAQAAAADAAkAAAACAAQAAAADAAoAAAACAAQAAAADAAsAAAAFAAUAAAAEAAAAAAACAAQAAAAEAAEAAAACAAQAAAAEAAIAAAACAAQAAAAEAAMAAAACAAQAAAAEAAQAAAACAAQAAAAEAAUAAAACAAQAAAAEAAYAAAACAAQAAAAEAAcAAAACAAQAAAAEAAgAAAACAAQAAAAEAAkAAAACAAQAAAAEAAoAAAACAAQAAAAEAAsAAAAFAAUAAAAFAAAAAAACAAQAAAAFAAEAAAACAAQAAAAFAAIAAAACAAQAAAAFAAMAAAACAAQAAAAFAAQAAAACAAQAAAAFAAUAAAACAAQAAAAFAAYAAAACAAQAAAAFAAcAAAACAAQAAAAFAAgAAAACAAQAAAAFAAkAAAACAAQAAAAFAAoAAAACAAQAAAAFAAsAAAAFAAUAAAAGAAAAAAACAAQAAAAGAAEAAAACAAQAAAAGAAIAAAACAAQAAAAGAAMAAAACAAQAAAAGAAQAAAACAAQAAAAGAAUAAAACAAQAAAAGAAYAAAACAAQAAAAGAAcAAAACAAQAAAAGAAgAAAACAAQAAAAGAAkAAAACAAQAAAAGAAoAAAACAAQAAAAGAAsAAAAFAAUAAAAHAAAAAAACAAQAAAAHAAEAAAACAAQAAAAHAAIAAAACAAQAAAAHAAMAAAACAAQAAAAHAAQAAAACAAQAAAAHAAUAAAACAAQAAAAHAAYAAAACAAQAAAAHAAcAAAACAAQAAAAHAAgAAAACAAQAAAAHAAkAAAACAAQAAAAHAAoAAAACAAQAAAAHAAsAAAAFAAUAAAAIAAAAAAACAAQAAAAIAAEAAAACAAQAAAAIAAIAAAACAAQAAAAIAAMAAAACAAQAAAAIAAQAAAACAAQAAAAIAAUAAAACAAQAAAAIAAYAAAACAAQAAAAIAAcAAAACAAQAAAAIAAgAAAACAAQAAAAIAAkAAAACAAQAAAAIAAoAAAACAAQAAAAIAAsAAAAFAAUAAAAJAAAAAAACAAQAAAAJAAEAAAACAAQAAAAJAAIAAAACAAQAAAAJAAMAAAACAAQAAAAJAAQAAAACAAQAAAAJAAUAAAACAAQAAAAJAAYAAAACAAQAAAAJAAcAAAACAAQAAAAJAAgAAAACAAQAAAAJAAkAAAACAAQAAAAJAAoAAAACAAQAAAAJAAsAAAAFAAUAAAAKAAAAAAACAAQAAAAKAAEAAAACAAQAAAAKAAIAAAACAAQAAAAKAAMAAAACAAQAAAAKAAQAAAACAAQAAAAKAAUAAAACAAQAAAAKAAYAAAACAAQAAAAKAAcAAAACAAQAAAAKAAgAAAACAAQAAAAKAAkAAAACAAQAAAAKAAoAAAACAAQAAAAKAAsAAAAFAAUAAAALAAAAAAACAAQAAAALAAEAAAACAAQAAAALAAIAAAACAAQAAAALAAMAAAACAAQAAAALAAQAAAACAAQAAAALAAUAAAACAAQAAAALAAYAAAACAAQAAAALAAcAAAACAAQAAAALAAgAAAACAAQAAAALAAkAAAACAAQAAAALAAoAAAACAAQAAAALAAsAAAAFAAUAAAAMAAAAAAACAAQAAAAMAAEAAAACAAQAAAAMAAIAAAACAAQAAAAMAAMAAAACAAQAAAAMAAQAAAACAAQAAAAMAAUAAAACAAQAAAAMAAYAAAACAAQAAAAMAAcAAAACAAQAAAAMAAgAAAACAAQAAAAMAAkAAAACAAQAAAAMAAoAAAACAAQAAAAMAAsAAAAFAAUAAAANAAAAAAADAAIAAAANAAEAAAADAAIAAAANAAIAAAADAAIAAAANAAMAAAADAAIAAAANAAQAAAADAAIAAAANAAUAAAADAAIAAAANAAYAAAADAAIAAAANAAcAAAADAAIAAAANAAgAAAADAAIAAAANAAkAAAADAAIAAAANAAoAAAADAAIAAAANAAsAAAAJAAcAAAAEAP7/AAAEAAMAAAAFAP7/AAAFAAMAAAAGAP7/AAACAAAAAAAHAP7/AAAEAAMAAAAIAP7/AAAFAAMAAAAJAP7/AAAHAAMAAAAKAP7/AAAGAAMAAAALAP7/AAAFAAMAAAANAP7/AAADAAAAAAANAAwAAAAJAAgAAAAMAAwAAAAGAAYAAAALAAwAAAAGAAYAAAAKAAwAAAAGAAYAAAAJAAwAAAAGAAYAAAAIAAwAAAAGAAYAAAAHAAwAAAAGAAYAAAAGAAwAAAAGAAYAAAAFAAwAAAAGAAYAAAAEAAwAAAAGAAYAAAADAAwAAAAGAAYAAAACAAwAAAAGAAYAAAABAAwAAAAGAAYAAAAAAAwAAAAIAAgAAAABAP7/AAAGAAMAAAACAP7/AAAFAAMAAAADAP7/AAAEAAMAAAAMAP7/AAAEAAMAAAAAAP7/AAABAAAAAAA=")
tile_set = SubResource("TileSet_dd0lh")

[node name="DecorationsTilemapLayer" type="TileMapLayer" parent="." groups=["navigation"]]
tile_map_data = PackedByteArray("AAAHAAIAAAAGAAEAAAAHAAYAAAAGAAEAAAACAAYAAAAGAAEAAAACAAIAAAAGAAEAAAADAAQAAAAGAAEAAAAGAAQAAAAGAAEAAAA=")
tile_set = SubResource("TileSet_4tcl0")

[node name="Enemy" parent="." node_paths=PackedStringArray("_player") instance=ExtResource("2_4tcl0")]
position = Vector2(148, 18)
safe_margin = 0.1
enemy_stats = ExtResource("3_bfxgj")
_player = NodePath("../Player")

[node name="Player" parent="." instance=ExtResource("3_dd0lh")]
position = Vector2(15, 128)
